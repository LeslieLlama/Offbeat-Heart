[gd_scene load_steps=23 format=4 uid="uid://ctnl6406yqme6"]

[ext_resource type="PackedScene" uid="uid://c6i0pa1ckktdo" path="res://Scenes/player.tscn" id="1_iq20c"]
[ext_resource type="Texture2D" uid="uid://v1n42rcr7afr" path="res://Sprites/HeartbeatTest.png" id="1_ph8ol"]
[ext_resource type="Texture2D" uid="uid://c2ueqg5k2dcoj" path="res://Sprites/Spikes.png" id="3_3rba1"]
[ext_resource type="PackedScene" uid="uid://ckk80uncglfiu" path="res://Scenes/collectible.tscn" id="3_iq20c"]
[ext_resource type="Texture2D" uid="uid://8t8i8h1itnqg" path="res://Sprites/EgressPowerupIcon.png" id="4_5230n"]
[ext_resource type="PackedScene" uid="uid://bf6kthiki7c7q" path="res://Scenes/hud.tscn" id="5_rct2e"]
[ext_resource type="PackedScene" uid="uid://w15mph4fuhye" path="res://Scenes/savepoint.tscn" id="6_tp66r"]
[ext_resource type="PackedScene" uid="uid://ci2jrw56wm6hp" path="res://Scenes/camera_zone.tscn" id="8_546ff"]
[ext_resource type="Script" uid="uid://cy0mi1ycc4due" path="res://Scripts/enemy_basic.gd" id="9_id6oe"]
[ext_resource type="Script" uid="uid://cfrllwo0huxpu" path="res://Scripts/npc.gd" id="10_8idbb"]
[ext_resource type="Texture2D" uid="uid://boi86imbwxyjs" path="res://Sprites/MusicNoteNPCs.png" id="10_p5bod"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3rba1"]
texture = ExtResource("1_ph8ol")
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, -4.85618, -8, -5.03604)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, 5.12597, 8, 5.12597, -5.2159, -8, -5.03604)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -5.12597, -8, -4.94612, -5.03604, -8, -5.03604)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_546ff"]
texture = ExtResource("3_3rba1")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, 3.0576, 8, 2.87774, 8, 8, -8, 8)
0:0/0/custom_data_0 = true

[sub_resource type="TileSet" id="TileSet_546ff"]
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "Damage"
custom_data_layer_0/type = 1
sources/0 = SubResource("TileSetAtlasSource_3rba1")
sources/1 = SubResource("TileSetAtlasSource_546ff")

[sub_resource type="AtlasTexture" id="AtlasTexture_p5bod"]
atlas = ExtResource("1_ph8ol")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8idbb"]
atlas = ExtResource("1_ph8ol")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_cbdjw"]
atlas = ExtResource("1_ph8ol")
region = Rect2(0, 16, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_yo1qh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p5bod")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8idbb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cbdjw")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_3lklq"]
radius = 6.0
height = 16.0

[sub_resource type="AtlasTexture" id="AtlasTexture_yo1qh"]
atlas = ExtResource("10_p5bod")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3lklq"]
atlas = ExtResource("10_p5bod")
region = Rect2(0, 16, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_f5jmh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yo1qh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3lklq")
}],
"loop": true,
"name": &"default",
"speed": 2.0
}]

[node name="Node2D" type="Node2D"]

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 1481.0
offset_bottom = 1066.0
color = Color(0.243307, 0.0623746, 0.215257, 1)

[node name="Player" parent="." instance=ExtResource("1_iq20c")]
position = Vector2(64, 216)
jump_speed = -600

[node name="TileMapLayer" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray("AAABABEAAAABAAEAAFABABAAAAABAAEAAFABAA8AAAABAAEAAFABAA4AAAABAAEAAFABAA0AAAABAAEAAFABAAwAAAABAAEAAFABAAsAAAABAAEAAFABAAoAAAABAAEAAFABAAkAAAABAAEAAFAnABUAAAABAAEAAGAnABQAAAABAAEAAGAnABMAAAABAAEAAGAnABIAAAABAAEAAGAnABEAAAABAAEAAGAnABAAAAABAAEAAGAnAA8AAAABAAEAAGAnAA4AAAABAAEAAGAnAA0AAAABAAEAAGAnAAwAAAABAAIAAGAnAAsAAAABAAEAAGAnAAoAAAABAAEAAGAnAAkAAAABAAIAAGAcABwAAAABAAEAAAAbABwAAAABAAEAAAAaABwAAAABAAEAAAAZABwAAAABAAEAAAAYABwAAAABAAEAAAAXABwAAAABAAEAAAAWABwAAAABAAEAAAAVABwAAAABAAEAAAAUABwAAAABAAEAAAATABwAAAABAAEAAAASABwAAAABAAEAAAARABwAAAABAAEAAAAQABwAAAABAAEAAAAPABwAAAABAAEAAAAOABwAAAABAAEAAAANABwAAAABAAEAAAAMABwAAAABAAEAAAALABwAAAABAAEAAAAKABwAAAABAAEAAAAJABwAAAABAAEAAAAIABwAAAABAAEAAAAHABwAAAABAAEAAAAGABwAAAABAAEAAAAFABwAAAABAAEAAAAEABwAAAABAAEAAAADABwAAAABAAEAAAACABwAAAABAAEAAAABABwAAAAAAAIAAFABABsAAAABAAEAAFABABoAAAABAAEAAFABABkAAAABAAEAAFABABgAAAABAAEAAFABABMAAAABAAEAAFABABIAAAABAAEAAFABABQAAAABAAEAAFABABUAAAABAAEAAFABABYAAAABAAEAAFABABcAAAABAAEAAFAdABwAAAABAAEAAAAeABwAAAABAAEAAAAfABwAAAABAAEAAAAgABwAAAABAAEAAAAhABwAAAABAAEAAAAiABwAAAABAAEAAAAjABwAAAABAAEAAAACAAAAAAABAAEAADADAAAAAAABAAEAADAEAAAAAAABAAEAADAFAAAAAAABAAEAADAGAAAAAAABAAEAADAHAAAAAAABAAEAADAIAAAAAAABAAEAADAJAAAAAAABAAEAADAKAAAAAAABAAEAADALAAAAAAABAAEAADAMAAAAAAABAAEAADANAAAAAAABAAEAADAOAAAAAAABAAEAADAPAAAAAAABAAEAADAQAAAAAAABAAEAADARAAAAAAABAAEAADASAAAAAAABAAEAADATAAAAAAABAAEAADAUAAAAAAABAAEAADAVAAAAAAABAAEAADAWAAAAAAABAAEAADAXAAAAAAABAAEAADAYAAAAAAABAAEAADAZAAAAAAABAAEAADAaAAAAAAABAAEAADAbAAAAAAABAAEAADAcAAAAAAABAAEAADAdAAAAAAABAAEAADAeAAAAAAABAAEAADAfAAAAAAABAAEAADAgAAAAAAABAAEAADAhAAAAAAABAAEAADAiAAAAAAABAAEAADAjAAAAAAABAAEAADAkAAAAAAABAAEAADAlAAAAAAABAAEAADAmAAAAAAABAAEAADAnAAgAAQAAAAAAAAABAAEAAAABAAEAAFABAAIAAAABAAEAAFABAAMAAAABAAEAAFABAAQAAAABAAEAAFABAAUAAAABAAEAAFABAAYAAAABAAEAAFABAAcAAAABAAEAAFABAAgAAAABAAEAAFAnAAAAAAABAAEAADABAAAAAAAAAAIAADAQAA4AAAABAAIAAGARAA4AAAABAAIAAAAkABwAAAABAAEAAAAlABwAAAABAAEAAAAmABwAAAABAAEAAAAnABYAAAABAAEAAGAnABcAAAABAAEAAGAnABgAAAABAAEAAGAnABkAAAABAAEAAGAnABoAAAABAAEAAGAnABsAAAABAAEAAGAnABwAAAAAAAIAAAASAAgAAAABAAIAAGAQAA8AAAABAAEAAAARAA8AAAABAAEAAAACAA4AAAABAAEAAAADAA4AAAABAAEAAAAEAA4AAAABAAEAAAAFAA4AAAABAAEAAAAGAA4AAAABAAEAAAAHAA4AAAABAAEAAAAIAA4AAAABAAEAAAAJAA4AAAABAAIAAAAJAA8AAAABAAEAAFAJABAAAAABAAEAAFAJABEAAAAAAAIAAFAKABEAAAABAAIAAAALABEAAQAAAAAAAAAMABEAAQAAAAAAAAANAA8AAAABAAIAAGANABAAAAABAAEAAGANABEAAAABAAEAAGAOAAwAAAABAAIAAGAOAA0AAAABAAEAAGAOAA4AAAABAAEAAGAOAA8AAAABAAEAAAAPAA8AAAABAAEAAAAQAAoAAAABAAIAAGAQAAsAAAABAAIAADARAAsAAAABAAEAADASAAsAAAABAAEAADASAA8AAAABAAEAAAATAAgAAAABAAEAAAATAAsAAAABAAEAADATAA8AAAABAAEAAAAUAAgAAAABAAEAAAAUAAsAAAABAAEAADAUAA8AAAABAAEAAAAVAAgAAAABAAEAAAAVAAsAAAABAAEAADAVAA8AAAABAAEAAAAWAAgAAAABAAEAAAAWAAsAAAABAAEAADAWAA8AAAABAAEAAAAXAAgAAAABAAEAAAAXAAsAAAABAAEAADAXAA8AAAABAAEAAAAYAAgAAAABAAEAAAAYAAsAAAABAAEAADAYAA8AAAABAAEAAAAZAAgAAAABAAIAAAAZAAkAAAAAAAIAAFAZAAsAAAABAAEAADAZAA8AAAABAAEAAAAaAAYAAAABAAIAAGAaAAcAAAABAAEAAGAaAAgAAAABAAEAAGAaAAsAAAABAAEAADAaAA8AAAABAAEAAAAbAAYAAAABAAEAAAAbAA8AAAABAAEAAAAcAAYAAAABAAEAAAAcAA8AAAABAAEAAAAdAAYAAAABAAEAAAAdAA0AAAABAAEAAAAdAA8AAAABAAEAAAAeAAYAAAABAAEAAAAeAA0AAAABAAEAAAAeAA8AAAABAAEAAAAfAAYAAAABAAEAAAAfAA0AAAABAAEAAAAfAA8AAAABAAEAAAAgAAYAAAABAAEAAAAgAA0AAAABAAEAAAAgAA8AAAABAAEAAAAhAAYAAAABAAEAAAAhAA0AAAABAAEAAAAhAA8AAAABAAEAAAAiAAYAAAABAAEAAAAiAA0AAAABAAEAAAAiAA8AAAABAAEAAAAjAAYAAAABAAEAAAAjAA8AAAABAAEAAAAkAAYAAAABAAEAAAAkAA8AAAABAAEAAAAlAAYAAAABAAEAAAAlAA8AAAABAAEAAAAmAAYAAAABAAIAAAAmAA8AAAABAAEAAAAaAAkAAAAAAAIAAAAbAAwAAAABAAEAAGAbAA0AAAABAAEAAGAbAA4AAAABAAEAAGAbAAsAAAAAAAIAAGAoAAwAAAABAAEAAAApAAwAAAABAAEAAAAqAAwAAAABAAEAAAArAAwAAAABAAEAAAAsAAwAAAABAAEAAAAtAAwAAAABAAEAAAAuAAwAAAABAAEAAAAvAAwAAAABAAEAAAAwAAwAAAABAAEAAAAxAAwAAAABAAEAAAAyAAwAAAABAAEAAAAzAAwAAAABAAEAAAA0AAwAAAABAAEAAAA1AAwAAAABAAEAAAA2AAwAAAABAAEAAAA3AAwAAAABAAEAAAA4AAwAAAABAAEAAAA5AAwAAAABAAEAAAAoAAAAAAABAAEAADApAAAAAAABAAEAADAqAAAAAAABAAEAADArAAAAAAABAAEAADAsAAAAAAABAAEAADAtAAAAAAABAAEAADAuAAAAAAABAAEAADAvAAAAAAABAAEAADAwAAAAAAABAAEAADAxAAAAAAABAAEAADAyAAAAAAABAAEAADA2AAAAAAABAAEAADA3AAAAAAABAAEAADA4AAAAAAABAAEAADA5AAAAAAABAAEAADA6AAAAAAABAAEAADA1AAAAAAABAAEAADA0AAAAAAABAAEAADAzAAAAAAABAAEAADA7AAAAAAABAAEAADA8AAAAAAABAAEAADA6AAwAAAABAAEAAAA7AAwAAAABAAEAAAAoAAkAAAABAAEAAAApAAkAAAABAAEAAAAqAAkAAAABAAEAAAArAAkAAAABAAEAAAAsAAkAAAABAAEAAAAtAAkAAAABAAEAAAAuAAkAAAABAAEAAAAvAAkAAAABAAEAAAAwAAkAAAABAAEAAAAxAAkAAAABAAEAAAAyAAkAAAABAAIAAAAyAAoAAAABAAEAAFAyAAsAAAABAAEAAFAxAAgAAAABAAEAAGAxAAcAAAABAAEAAGAxAAYAAAABAAIAAGAyAAYAAAABAAEAAAAzAAYAAAABAAEAAAA0AAYAAAABAAEAAAA1AAYAAAABAAEAAAA2AAYAAAABAAEAAAA3AAYAAAABAAIAAAA3AAcAAAABAAEAAFA3AAgAAAABAAEAAFA3AAkAAAABAAEAAFA3AAoAAAABAAEAAFA3AAsAAAABAAEAAFA7AAkAAAABAAIAAAA6AAkAAAABAAEAAAA5AAkAAAABAAEAAAA4AAkAAAABAAEAAAA7AAsAAAABAAEAAFA7AAoAAAABAAEAAFAoAAgAAQAAAAAAAAApAAgAAQAAAAAAAAAqAAgAAQAAAAAAAAArAAgAAQAAAAAAAAAsAAgAAQAAAAAAAAAtAAgAAQAAAAAAAAAuAAgAAQAAAAAAAAAvAAgAAQAAAAAAAAAwAAgAAQAAAAAAAAAmAAcAAAABAAEAAFAmAAgAAAABAAEAAFAmAAkAAAABAAEAAFAmAAoAAAABAAEAAFAmAAsAAAABAAEAAFAmAAwAAAABAAEAAFAmAA0AAAABAAEAAFAmAA4AAAABAAEAAFAqAAQAAAABAAIAAGArAAQAAAABAAEAAAAsAAQAAAABAAEAAAAtAAQAAAABAAEAAAAuAAQAAAABAAIAAAAqAAUAAAABAAIAADAuAAUAAAABAAIAAFArAAUAAAABAAEAADAsAAUAAAABAAEAADAtAAUAAAABAAEAADAPAAwAAAABAAEAAAAQAAwAAAAAAAIAAAARAAkAAAABAAIAAGASAAkAAAAAAAIAAAARAAoAAAAAAAIAAAA/AAwAAAABAAEAAFA/AA0AAAABAAEAAFA/AA4AAAABAAEAAFA/AA8AAAABAAEAAFA/ABAAAAABAAEAAFA/ABEAAAAAAAIAAFBHABAAAAABAAEAAGBHABEAAAAAAAIAAAA8AAkAAAABAAEAAAA9AAkAAAABAAEAAAA+AAkAAAABAAEAAAA/AAkAAAABAAIAAAA/AAoAAAABAAEAAFA/AAsAAAABAAEAAFBAABEAAAABAAIAAABAABIAAAAAAAIAAFBBABIAAAABAAEAAABCABIAAAABAAEAAABDABIAAAABAAEAAABEABIAAAABAAEAAABFABIAAAABAAEAAABGABEAAAABAAIAAGBGABIAAAAAAAIAAABHAA0AAAABAAIAAGBHAA4AAAABAAEAAGBHAA8AAAABAAEAAGBIAA0AAAABAAEAAABJAAsAAAABAAIAAGBJAAwAAAABAAEAAGBJAA0AAAAAAAIAAABKAAsAAAABAAEAAABLAAsAAAABAAEAAABMAAsAAAABAAEAAAA=")
tile_set = SubResource("TileSet_546ff")

[node name="EgressPowerup" parent="." instance=ExtResource("3_iq20c")]
position = Vector2(840, 72)
is_powerup = true

[node name="Sprite2D" parent="EgressPowerup" index="0"]
texture = ExtResource("4_5230n")

[node name="Collectible" parent="." instance=ExtResource("3_iq20c")]
position = Vector2(561, 178)
powerup_name = "moon_01"

[node name="Collectible2" parent="." instance=ExtResource("3_iq20c")]
position = Vector2(273, 211)
powerup_name = "moon_02"

[node name="HUD" parent="." instance=ExtResource("5_rct2e")]

[node name="Savepoint" parent="." instance=ExtResource("6_tp66r")]
position = Vector2(96, 216)

[node name="Savepoint2" parent="." instance=ExtResource("6_tp66r")]
position = Vector2(520, 200)

[node name="Savepoint3" parent="." instance=ExtResource("6_tp66r")]
position = Vector2(368, 120)

[node name="CameraZone" parent="." instance=ExtResource("8_546ff")]

[node name="CameraZone2" parent="." instance=ExtResource("8_546ff")]
position = Vector2(480, 0)

[node name="CameraZone3" parent="." instance=ExtResource("8_546ff")]
position = Vector2(960, 0)

[node name="CameraZone4" parent="." instance=ExtResource("8_546ff")]
position = Vector2(1440, 0)

[node name="CameraZone5" parent="." instance=ExtResource("8_546ff")]
position = Vector2(0, 300)

[node name="EnemyBasic" type="CharacterBody2D" parent="."]
position = Vector2(296, 232)
collision_layer = 2
script = ExtResource("9_id6oe")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="EnemyBasic"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_yo1qh")
autoplay = "default"
frame_progress = 0.653722

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemyBasic"]
shape = SubResource("CapsuleShape2D_3lklq")

[node name="RayCast2D" type="RayCast2D" parent="EnemyBasic"]
target_position = Vector2(19, 0)

[node name="EnemyBasic2" type="CharacterBody2D" parent="."]
position = Vector2(328, 232)
collision_layer = 2
script = ExtResource("9_id6oe")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="EnemyBasic2"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_yo1qh")
autoplay = "default"
frame_progress = 0.653722

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemyBasic2"]
shape = SubResource("CapsuleShape2D_3lklq")

[node name="RayCast2D" type="RayCast2D" parent="EnemyBasic2"]
target_position = Vector2(19, 0)

[node name="NPC_1" type="Node2D" parent="."]
position = Vector2(328, 120)
script = ExtResource("10_8idbb")
lines = ["Howdy", "Howdy,,, 2!"]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="NPC_1"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_f5jmh")
autoplay = "default"
frame_progress = 0.589246
flip_h = true

[node name="RayCast2D" type="RayCast2D" parent="NPC_1"]
position = Vector2(0, 4)
target_position = Vector2(-16, 0)

[node name="RayCast2D2" type="RayCast2D" parent="NPC_1"]
position = Vector2(0, 4)
target_position = Vector2(16, 0)

[editable path="EgressPowerup"]
